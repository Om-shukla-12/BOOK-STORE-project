{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001';\nexport const API_ENDPOINTS = {\n  AUTH: {\n    LOGIN: `${API_BASE_URL}/api/auth/login`,\n    REGISTER: `${API_BASE_URL}/api/auth/register`,\n    LOGOUT: `${API_BASE_URL}/api/auth/logout`,\n    USER: `${API_BASE_URL}/api/auth/user`\n  },\n  BOOKS: {\n    LIST: `${API_BASE_URL}/api/books`,\n    DETAIL: id => `${API_BASE_URL}/api/books/${id}`\n  },\n  CART: {\n    GET: `${API_BASE_URL}/api/cart`,\n    ADD: `${API_BASE_URL}/api/cart/add`,\n    UPDATE: `${API_BASE_URL}/api/cart/update`,\n    REMOVE: `${API_BASE_URL}/api/cart/remove`\n  }\n};\nexport const getAuthHeader = () => {\n  const token = localStorage.getItem('token');\n  return token ? {\n    Authorization: `Bearer ${token}`\n  } : {};\n};\n\n// Configure axios defaults\naxios.defaults.withCredentials = true;\naxios.defaults.baseURL = API_BASE_URL;\n\n// Add response interceptor for better error handling\naxios.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","API_ENDPOINTS","AUTH","LOGIN","REGISTER","LOGOUT","USER","BOOKS","LIST","DETAIL","id","CART","GET","ADD","UPDATE","REMOVE","getAuthHeader","token","localStorage","getItem","Authorization","defaults","withCredentials","baseURL","interceptors","response","use","error","_error$response","status","removeItem","window","location","href","Promise","reject"],"sources":["C:/Users/OM/OneDrive/Desktop/BOOK STORE/frontend/src/config.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001';\r\n\r\nexport const API_ENDPOINTS = {\r\n  AUTH: {\r\n    LOGIN: `${API_BASE_URL}/api/auth/login`,\r\n    REGISTER: `${API_BASE_URL}/api/auth/register`,\r\n    LOGOUT: `${API_BASE_URL}/api/auth/logout`,\r\n    USER: `${API_BASE_URL}/api/auth/user`\r\n  },\r\n  BOOKS: {\r\n    LIST: `${API_BASE_URL}/api/books`,\r\n    DETAIL: (id) => `${API_BASE_URL}/api/books/${id}`\r\n  },\r\n  CART: {\r\n    GET: `${API_BASE_URL}/api/cart`,\r\n    ADD: `${API_BASE_URL}/api/cart/add`,\r\n    UPDATE: `${API_BASE_URL}/api/cart/update`,\r\n    REMOVE: `${API_BASE_URL}/api/cart/remove`\r\n  }\r\n};\r\n\r\nexport const getAuthHeader = () => {\r\n  const token = localStorage.getItem('token');\r\n  return token ? { Authorization: `Bearer ${token}` } : {};\r\n};\r\n\r\n// Configure axios defaults\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.baseURL = API_BASE_URL;\r\n\r\n// Add response interceptor for better error handling\r\naxios.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n); "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,OAAO,MAAMC,aAAa,GAAG;EAC3BC,IAAI,EAAE;IACJC,KAAK,EAAE,GAAGN,YAAY,iBAAiB;IACvCO,QAAQ,EAAE,GAAGP,YAAY,oBAAoB;IAC7CQ,MAAM,EAAE,GAAGR,YAAY,kBAAkB;IACzCS,IAAI,EAAE,GAAGT,YAAY;EACvB,CAAC;EACDU,KAAK,EAAE;IACLC,IAAI,EAAE,GAAGX,YAAY,YAAY;IACjCY,MAAM,EAAGC,EAAE,IAAK,GAAGb,YAAY,cAAca,EAAE;EACjD,CAAC;EACDC,IAAI,EAAE;IACJC,GAAG,EAAE,GAAGf,YAAY,WAAW;IAC/BgB,GAAG,EAAE,GAAGhB,YAAY,eAAe;IACnCiB,MAAM,EAAE,GAAGjB,YAAY,kBAAkB;IACzCkB,MAAM,EAAE,GAAGlB,YAAY;EACzB;AACF,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAGA,CAAA,KAAM;EACjC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAOF,KAAK,GAAG;IAAEG,aAAa,EAAE,UAAUH,KAAK;EAAG,CAAC,GAAG,CAAC,CAAC;AAC1D,CAAC;;AAED;AACArB,KAAK,CAACyB,QAAQ,CAACC,eAAe,GAAG,IAAI;AACrC1B,KAAK,CAACyB,QAAQ,CAACE,OAAO,GAAG1B,YAAY;;AAErC;AACAD,KAAK,CAAC4B,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7BD,QAAQ,IAAIA,QAAQ,EACpBE,KAAK,IAAI;EAAA,IAAAC,eAAA;EACP,IAAI,EAAAA,eAAA,GAAAD,KAAK,CAACF,QAAQ,cAAAG,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC;AAC9B,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}